# Spring Boot åŠ¨æ€è§„åˆ™å¼•æ“ Demo

## é¡¹ç›®ç®€ä»‹

è¿™æ˜¯ä¸€ä¸ªåŸºäº **Spring Boot + QLExpress** çš„åŠ¨æ€è§„åˆ™å¼•æ“æ¼”ç¤ºé¡¹ç›®ï¼Œå±•ç¤ºå¦‚ä½•åœ¨ä¸é‡å¯åº”ç”¨çš„æƒ…å†µä¸‹åŠ¨æ€ä¿®æ”¹ä¸šåŠ¡è§„åˆ™ã€‚é¡¹ç›®é‡‡ç”¨å‰åç«¯åˆ†ç¦»æ¶æ„ï¼Œä½¿ç”¨ TailwindCSS æ„å»ºç°ä»£åŒ–çš„ç®¡ç†ç•Œé¢ã€‚

## ğŸš€ æ ¸å¿ƒåŠŸèƒ½

- **åŠ¨æ€è§„åˆ™ç®¡ç†** - è¿è¡Œæ—¶åŠ è½½ã€ä¿®æ”¹ã€åˆ é™¤ä¸šåŠ¡è§„åˆ™
- **å‰åç«¯åˆ†ç¦»** - REST API + ç°ä»£åŒ–å‰ç«¯ç•Œé¢
- **ä¸šåŠ¡åœºæ™¯æ¼”ç¤º** - å®Œæ•´çš„ç”µå•†è®¢å•å¤„ç†æµç¨‹
- **çƒ­æ›´æ–°æ”¯æŒ** - æ— éœ€é‡å¯åº”ç”¨å³å¯ä¿®æ”¹è§„åˆ™é€»è¾‘
- **å¯è§†åŒ–ç®¡ç†** - ç›´è§‚çš„è§„åˆ™ç®¡ç†å’Œæµ‹è¯•ç•Œé¢

## ğŸ¯ è§£å†³çš„ç—›ç‚¹

**ä¼ ç»Ÿæ–¹å¼çš„é—®é¢˜ï¼š**
- ä¸šåŠ¡è§„åˆ™å˜æ›´éœ€è¦ä¿®æ”¹ä»£ç ã€é‡æ–°ç¼–è¯‘ã€å‘å¸ƒéƒ¨ç½²
- è¥é”€æ´»åŠ¨ã€é£æ§ç­–ç•¥ç­‰é¢‘ç¹å˜åŒ–çš„è§„åˆ™ç»´æŠ¤æˆæœ¬é«˜
- æ— æ³•å¿«é€Ÿå“åº”ä¸šåŠ¡éœ€æ±‚å˜åŒ–

**åŠ¨æ€è§„åˆ™å¼•æ“çš„ä¼˜åŠ¿ï¼š**
- âœ… è§„åˆ™çƒ­æ›´æ–°ï¼Œæ— éœ€é‡å¯åº”ç”¨
- âœ… ä¸šåŠ¡äººå‘˜å¯ç›´æ¥é…ç½®è§„åˆ™
- âœ… å¿«é€Ÿå“åº”è¥é”€æ´»åŠ¨éœ€æ±‚
- âœ… é™ä½è¿ç»´æˆæœ¬å’Œé£é™©

## ğŸ›  æŠ€æœ¯æ ˆ

- **åç«¯ï¼š** Spring Boot 3.2.0, QLExpress 3.3.1
- **å‰ç«¯ï¼š** HTML5 + JavaScript + TailwindCSS

## ğŸ“‹ ä¸šåŠ¡åœºæ™¯æ¼”ç¤º

### ç”µå•†è®¢å•å¤„ç†æµç¨‹

é¡¹ç›®é€šè¿‡ä¸€ä¸ªå®Œæ•´çš„ç”µå•†è®¢å•å¤„ç†åœºæ™¯ï¼Œå±•ç¤ºåŠ¨æ€è§„åˆ™å¼•æ“çš„å®é™…åº”ç”¨ï¼š

1. **VIPæŠ˜æ‰£è§„åˆ™** - æ ¹æ®ç”¨æˆ·ç­‰çº§åº”ç”¨ä¸åŒæŠ˜æ‰£
2. **æ»¡å‡æ´»åŠ¨è§„åˆ™** - æ»¡è¶³æ¡ä»¶æ—¶è‡ªåŠ¨å‡å…é‡‘é¢
3. **ç§¯åˆ†å¥–åŠ±è§„åˆ™** - åŸºäºæœ€ç»ˆé‡‘é¢è®¡ç®—ç§¯åˆ†

### é¢„ç½®è§„åˆ™ç¤ºä¾‹

#### VIPæŠ˜æ‰£è§„åˆ™ (`vip_discount`)
```javascript
if (userLevel == "GOLD") {
    return price * 0.8;
} else if (userLevel == "SILVER") {
    return price * 0.9;
} else {
    return price;
}
```

#### æ»¡å‡æ´»åŠ¨è§„åˆ™ (`full_reduction`)
```javascript
if (totalAmount >= 200) {
    return totalAmount - 50;
} else if (totalAmount >= 100) {
    return totalAmount - 20;
} else {
    return totalAmount;
}
```

#### ç§¯åˆ†å¥–åŠ±è§„åˆ™ (`points_reward`)
```javascript
return Math.round(totalAmount * 0.1);
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. å¯åŠ¨åº”ç”¨
```bash
git clone <repository-url>
cd springboot-dynamic-rule
mvn spring-boot:run
```

### 2. è®¿é—®åº”ç”¨
- **è§„åˆ™ç®¡ç†é¡µé¢ï¼š** http://localhost:8080/index.html
- **ä¸šåŠ¡æ¼”ç¤ºé¡µé¢ï¼š** http://localhost:8080/business.html

### 3. ä½“éªŒåŠŸèƒ½
1. åœ¨è§„åˆ™ç®¡ç†é¡µé¢æŸ¥çœ‹å’Œæµ‹è¯•è§„åˆ™
2. åœ¨ä¸šåŠ¡æ¼”ç¤ºé¡µé¢æ¨¡æ‹Ÿè®¢å•å¤„ç†
3. åŠ¨æ€ä¿®æ”¹è§„åˆ™å¹¶è§‚å¯Ÿä¸šåŠ¡é€»è¾‘å˜åŒ–

## ğŸ“¡ API æ¥å£

### è§„åˆ™ç®¡ç† API
```bash
GET    /api/rules                 # è·å–æ‰€æœ‰è§„åˆ™
POST   /api/rules                 # æ·»åŠ æ–°è§„åˆ™
PUT    /api/rules/{ruleName}      # æ›´æ–°è§„åˆ™
DELETE /api/rules/{ruleName}      # åˆ é™¤è§„åˆ™
POST   /api/rules/execute/{name}  # æ‰§è¡Œè§„åˆ™
```

### ä¸šåŠ¡æ¼”ç¤º API
```bash
POST /api/orders/simulate?userLevel={level}&amount={amount}  # æ¨¡æ‹Ÿè®¢å•å¤„ç†
POST /api/orders/process     # å¤„ç†è®¢å•
```

### ç¤ºä¾‹è¯·æ±‚
```bash
# æ‰§è¡ŒVIPæŠ˜æ‰£è§„åˆ™
curl -X POST http://localhost:8080/api/rules/execute/vip_discount \
  -H "Content-Type: application/json" \
  -d '{"userLevel": "GOLD", "price": 100}'

# æ¨¡æ‹Ÿè®¢å•å¤„ç†
curl -X POST "http://localhost:8080/api/orders/simulate?userLevel=GOLD&amount=150"
```
